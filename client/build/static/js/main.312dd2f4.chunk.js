(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,a){e.exports=a(78)},48:function(e,t,a){},72:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){e.exports=a.p+"static/media/02.04ac2c48.png"},78:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),s=a.n(c),l=(a(48),a(2)),o=a.n(l),i=a(5),m=a(4),u=a(10),d={LOGIN:"LOGIN",GET_TOKEN:"GET_TOKEN",GET_USER:"GET_USER",GET_ALL_USERS:"GET_ALL_USERS"},p=a(3),b=a.n(p),f=function(){return{type:d.LOGIN}},E=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/user/infor",{headers:{Authorization:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var h=function(){var e=Object(u.c)((function(e){return e.auth})),t=e.user,a=e.isLogged,r=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/user/logout");case 3:localStorage.removeItem("firstLogin"),window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.location.href="/";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),c={transform:a?"translateY(-5px)":0};return n.a.createElement("header",null,n.a.createElement("div",{className:"logo"},n.a.createElement("h1",null,n.a.createElement(m.b,{to:"/"},"Weclash"))),n.a.createElement("ul",{style:c},n.a.createElement("li",null,n.a.createElement(m.b,{to:"/bim360"},n.a.createElement("i",{className:"fas fa-shopping-cart"})," BIM 360")),n.a.createElement("li",null,n.a.createElement(m.b,{to:"/basicviewer"},n.a.createElement("i",{className:"fas fa-shopping-cart"})," 3D Viewer")),a?n.a.createElement("li",{className:"drop-nav"},n.a.createElement(m.b,{to:"/basicviewer",className:"avatar"},n.a.createElement("img",{src:t.avatar,alt:""})," ",t.name," ",n.a.createElement("i",{className:"fas fa-angle-down"})),n.a.createElement("ul",{className:"dropdown"},n.a.createElement("li",null,n.a.createElement(m.b,{to:"/profile"},"Profile")),n.a.createElement("li",null,n.a.createElement(m.b,{to:"/",onClick:r},"Logout")))):n.a.createElement("li",null,n.a.createElement(m.b,{to:"/login"},n.a.createElement("i",{className:"fas fa-user"})," Sign in"))))},v=a(9),g=a(8),w=a(1),O=a(6),j=(a(72),function(e){return n.a.createElement("div",{className:"errMsg"},e)}),N=function(e){return n.a.createElement("div",{className:"successMsg"},e)},y=(a(73),a(74),a(39),{email:"",password:"",err:"",success:""});var k=function(){var e=Object(r.useState)(y),t=Object(O.a)(e,2),a=t[0],c=t[1],s=Object(u.b)(),l=Object(v.f)(),d=a.email,p=a.password,E=a.err,h=a.success,k=function(e){var t,r=e.target,n=r.name,s=r.value;c(Object(w.a)(Object(w.a)({},a),{},(t={},Object(g.a)(t,n,s),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))},x=function(){var e=Object(i.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.a.post("/user/login",{email:d,password:p});case 4:r=e.sent,c(Object(w.a)(Object(w.a)({},a),{},{err:"",success:r.data.msg})),localStorage.setItem("firstLogin",!0),s(f()),l.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&c(Object(w.a)(Object(w.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"login_page"},n.a.createElement("h2",null,"Login"),E&&j(E),h&&N(h),n.a.createElement("form",{onSubmit:x},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"email"},"Email Address"),n.a.createElement("input",{type:"text",placeholder:"Enter email address",id:"email",value:d,name:"email",onChange:k})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",placeholder:"Enter password",id:"password",value:p,name:"password",onChange:k})),n.a.createElement("div",{className:"row"},n.a.createElement("button",{type:"submit"},"Login"),n.a.createElement(m.b,{to:"/forgot_password"},"Forgot your password?"))),n.a.createElement("p",null,"New Customer? ",n.a.createElement(m.b,{to:"/register"},"Register")))},x=function(e){return!e},_=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},S=function(e){return e.length<6},C=function(e,t){return e===t},A={name:"",email:"",password:"",cf_password:"",err:"",success:""};var L=function(){var e=Object(r.useState)(A),t=Object(O.a)(e,2),a=t[0],c=t[1],s=a.name,l=a.email,u=a.password,d=a.cf_password,p=a.err,f=a.success,E=function(e){var t,r=e.target,n=r.name,s=r.value;c(Object(w.a)(Object(w.a)({},a),{},(t={},Object(g.a)(t,n,s),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))},h=function(){var e=Object(i.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!x(s)&&!x(u)){e.next=3;break}return e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"Please fill in all fields.",success:""})));case 3:if(_(l)){e.next=5;break}return e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"Invalid emails.",success:""})));case 5:if(!S(u)){e.next=7;break}return e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"Password must be at least 6 characters.",success:""})));case 7:if(C(u,d)){e.next=9;break}return e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"Password did not match.",success:""})));case 9:return e.prev=9,e.next=12,b.a.post("/user/register",{name:s,email:l,password:u});case 12:r=e.sent,c(Object(w.a)(Object(w.a)({},a),{},{err:"",success:r.data.msg})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),e.t0.response.data.msg&&c(Object(w.a)(Object(w.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"login_page"},n.a.createElement("h2",null,"Register"),p&&j(p),f&&N(f),n.a.createElement("form",{onSubmit:h},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",placeholder:"Enter your name",id:"name",value:s,name:"name",onChange:E})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"email"},"Email Address"),n.a.createElement("input",{type:"text",placeholder:"Enter email address",id:"email",value:l,name:"email",onChange:E})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",placeholder:"Enter password",id:"password",value:u,name:"password",onChange:E})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"cf_password"},"Confirm Password"),n.a.createElement("input",{type:"password",placeholder:"Confirm password",id:"cf_password",value:d,name:"cf_password",onChange:E})),n.a.createElement("div",{className:"row"},n.a.createElement("button",{type:"submit"},"Register"))),n.a.createElement("p",null,"Already an account? ",n.a.createElement(m.b,{to:"/login"},"Login")))};var F=function(){var e=Object(v.g)().activation_token,t=Object(r.useState)(""),a=Object(O.a)(t,2),c=a[0],s=a[1],l=Object(r.useState)(""),m=Object(O.a)(l,2),u=m[0],d=m[1];return Object(r.useEffect)((function(){e&&function(){var t=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.post("/user/activation",{activation_token:e});case 3:a=t.sent,d(a.data.msg),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.msg&&s(t.t0.response.data.msg);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),n.a.createElement("div",{className:"active_page"},c&&j(c),u&&N(u))};var P=function(){return n.a.createElement("div",null,"404 | Not Found")},T={email:"",err:"",success:""};var R=function(){var e=Object(r.useState)(T),t=Object(O.a)(e,2),a=t[0],c=t[1],s=a.email,l=a.err,m=a.success,u=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(s)){e.next=2;break}return e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"Invalid emails.",success:""})));case 2:return e.prev=2,e.next=5,b.a.post("/user/forgot",{email:s});case 5:return t=e.sent,e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"",success:t.data.msg})));case 9:e.prev=9,e.t0=e.catch(2),e.t0.response.data.msg&&c(Object(w.a)(Object(w.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"fg_pass"},n.a.createElement("h2",null,"Forgot Your Password?"),n.a.createElement("div",{className:"row"},l&&j(l),m&&N(m),n.a.createElement("label",{htmlFor:"email"},"Enter your email address"),n.a.createElement("input",{type:"email",name:"email",id:"email",value:s,onChange:function(e){var t,r=e.target,n=r.name,s=r.value;c(Object(w.a)(Object(w.a)({},a),{},(t={},Object(g.a)(t,n,s),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))}}),n.a.createElement("button",{onClick:u},"Verify your email")))},z={password:"",cf_password:"",err:"",success:""};var I=function(){var e=Object(r.useState)(z),t=Object(O.a)(e,2),a=t[0],c=t[1],s=Object(v.g)().token,l=a.password,m=a.cf_password,u=a.err,d=a.success,p=function(e){var t,r=e.target,n=r.name,s=r.value;c(Object(w.a)(Object(w.a)({},a),{},(t={},Object(g.a)(t,n,s),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))},f=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S(l)){e.next=2;break}return e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"Password must be at least 6 characters.",success:""})));case 2:if(C(l,m)){e.next=4;break}return e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"Password did not match.",success:""})));case 4:return e.prev=4,e.next=7,b.a.post("/user/reset",{password:l},{headers:{Authorization:s}});case 7:return t=e.sent,e.abrupt("return",c(Object(w.a)(Object(w.a)({},a),{},{err:"",success:t.data.msg})));case 11:e.prev=11,e.t0=e.catch(4),e.t0.response.data.msg&&c(Object(w.a)(Object(w.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"fg_pass"},n.a.createElement("h2",null,"Reset Your Password"),n.a.createElement("div",{className:"row"},u&&j(u),d&&N(d),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",name:"password",id:"password",value:l,onChange:p}),n.a.createElement("label",{htmlFor:"cf_password"},"Confirm Password"),n.a.createElement("input",{type:"password",name:"cf_password",id:"cf_password",value:m,onChange:p}),n.a.createElement("button",{onClick:f},"Reset Password")))},U=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/user/all_infor",{headers:{Authorization:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B={name:"",password:"",cf_password:"",err:"",success:""};var G=function(){var e=Object(u.c)((function(e){return e.auth})),t=Object(u.c)((function(e){return e.token})),a=Object(u.c)((function(e){return e.users})),c=e.user,s=e.isAdmin,l=Object(r.useState)(B),p=Object(O.a)(l,2),f=p[0],E=p[1],h=f.name,v=f.password,y=f.cf_password,k=f.err,x=f.success,_=Object(r.useState)(!1),A=Object(O.a)(_,2),L=A[0],F=A[1],P=Object(r.useState)(!1),T=Object(O.a)(P,2),R=T[0],z=T[1],I=Object(r.useState)(!1),G=Object(O.a)(I,2),M=G[0],D=G[1],V=Object(u.b)();Object(r.useEffect)((function(){s&&U(t).then((function(e){V(function(e){return{type:d.GET_ALL_USERS,payload:e.data}}(e))}))}),[t,s,V,M]);var Y=function(e){var t,a=e.target,r=a.name,n=a.value;E(Object(w.a)(Object(w.a)({},f),{},(t={},Object(g.a)(t,r,n),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))},q=function(){var e=Object(i.a)(o.a.mark((function e(a){var r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,r=a.target.files[0]){e.next=5;break}return e.abrupt("return",E(Object(w.a)(Object(w.a)({},f),{},{err:"No files were uploaded.",success:""})));case 5:if(!(r.size>1048576)){e.next=7;break}return e.abrupt("return",E(Object(w.a)(Object(w.a)({},f),{},{err:"Size too large.",success:""})));case 7:if("image/jpeg"===r.type||"image/png"===r.type){e.next=9;break}return e.abrupt("return",E(Object(w.a)(Object(w.a)({},f),{},{err:"File format is incorrect.",success:""})));case 9:return(n=new FormData).append("file",r),z(!0),e.next=14,b.a.post("/api/upload_avatar",n,{headers:{"content-type":"multipart/form-data",Authorization:t}});case 14:c=e.sent,z(!1),F(c.data.url),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),E(Object(w.a)(Object(w.a)({},f),{},{err:e.t0.response.data.msg,success:""}));case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c._id===a){e.next=8;break}if(!window.confirm("Are you sure you want to delete this account?")){e.next=8;break}return z(!0),e.next=6,b.a.delete("/user/delete/".concat(a),{headers:{Authorization:t}});case 6:z(!1),D(!M);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),E(Object(w.a)(Object(w.a)({},f),{},{err:e.t0.response.data.msg,success:""}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,k&&j(k),x&&N(x),R&&n.a.createElement("h3",null,"Loading.....")),n.a.createElement("div",{className:"profile_page"},n.a.createElement("div",{className:"col-left"},n.a.createElement("h2",null,s?"Admin Profile":"User Profile"),n.a.createElement("div",{className:"avatar"},n.a.createElement("img",{src:L||c.avatar,alt:""}),n.a.createElement("span",null,n.a.createElement("i",{className:"fas fa-camera"}),n.a.createElement("p",null,"Change"),n.a.createElement("input",{type:"file",name:"file",id:"file_up",onChange:q}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",name:"name",id:"name",defaultValue:c.name,placeholder:"Your name",onChange:Y})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"email",id:"email",defaultValue:c.email,placeholder:"Your email address",disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"New Password"),n.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Your password",value:v,onChange:Y})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"cf_password"},"Confirm New Password"),n.a.createElement("input",{type:"password",name:"cf_password",id:"cf_password",placeholder:"Confirm password",value:y,onChange:Y})),n.a.createElement("div",null,n.a.createElement("em",{style:{color:"crimson"}},"* If you update your password here, you will not be able to login quickly using google and facebook.")),n.a.createElement("button",{disabled:R,onClick:function(){(h||L)&&function(){try{b.a.patch("/user/update",{name:h||c.name,avatar:L||c.avatar},{headers:{Authorization:t}}),E(Object(w.a)(Object(w.a)({},f),{},{err:"",success:"Updated Success!"}))}catch(k){E(Object(w.a)(Object(w.a)({},f),{},{err:k.response.data.msg,success:""}))}}(),v&&function(){if(S(v))return E(Object(w.a)(Object(w.a)({},f),{},{err:"Password must be at least 6 characters.",success:""}));if(!C(v,y))return E(Object(w.a)(Object(w.a)({},f),{},{err:"Password did not match.",success:""}));try{b.a.post("/user/reset",{password:v},{headers:{Authorization:t}}),E(Object(w.a)(Object(w.a)({},f),{},{err:"",success:"Updated Success!"}))}catch(k){E(Object(w.a)(Object(w.a)({},f),{},{err:k.response.data.msg,success:""}))}}()}},"Update")),n.a.createElement("div",{className:"col-right"},n.a.createElement("h2",null,s?"Users":"My Orders"),n.a.createElement("div",{style:{overflowX:"auto"}},n.a.createElement("table",{className:"customers"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Admin"),n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,a.map((function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.email),n.a.createElement("td",null,1===e.role?n.a.createElement("i",{className:"fas fa-check",title:"Admin"}):n.a.createElement("i",{className:"fas fa-times",title:"User"})),n.a.createElement("td",null,n.a.createElement(m.b,{to:"/edit_user/".concat(e._id)},n.a.createElement("i",{className:"fas fa-edit",title:"Edit"})),n.a.createElement("i",{className:"fas fa-trash-alt",title:"Remove",onClick:function(){return K(e._id)}})))}))))))))};var M=function(){var e=Object(v.g)().id,t=Object(v.f)(),a=Object(r.useState)([]),c=Object(O.a)(a,2),s=c[0],l=c[1],m=Object(u.c)((function(e){return e.users})),d=Object(u.c)((function(e){return e.token})),p=Object(r.useState)(!1),f=Object(O.a)(p,2),E=f[0],h=f[1],g=Object(r.useState)(!1),w=Object(O.a)(g,2),y=w[0],k=w[1],x=Object(r.useState)(!1),_=Object(O.a)(x,2),S=_[0],C=_[1],A=Object(r.useState)(0),L=Object(O.a)(A,2),F=L[0],P=L[1];Object(r.useEffect)((function(){0!==m.length?m.forEach((function(t){t._id===e&&(l(t),h(1===t.role))})):t.push("/profile")}),[m,e,t]);var T=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,F%2===0){e.next=7;break}return e.next=4,b.a.patch("/user/update_role/".concat(s._id),{role:E?1:0},{headers:{Authorization:d}});case 4:t=e.sent,C(t.data.msg),P(0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.data.msg&&k(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"profile_page edit_user"},n.a.createElement("div",{className:"row"},n.a.createElement("button",{onClick:function(){return t.goBack()},className:"go_back"},n.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})," Go Back")),n.a.createElement("div",{className:"col-left"},n.a.createElement("h2",null,"Edit User"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",name:"name",defaultValue:s.name,disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"email",defaultValue:s.email,disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"checkbox",id:"isAdmin",checked:E,onChange:function(){C(""),k(""),h(!E),P(F+1)}}),n.a.createElement("label",{htmlFor:"isAdmin"},"isAdmin")),n.a.createElement("button",{onClick:T},"Update"),y&&j(y),S&&N(S)))},D=n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("button",{onClick:function(){}},"Start Viewer")),n.a.createElement("li",null,"hola"));var V=function(){var e=Object(r.useState)({}),t=Object(O.a)(e,2),a=(t[0],t[1]);function c(){return(c=Object(i.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/forge/oss/buckets");case 2:t=e.sent,r=[],t.data.forEach((function(e){r.push(e)})),a.apply(void 0,r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){c.apply(this,arguments)}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container-fluid fill"},n.a.createElement("div",{className:"row fill"},n.a.createElement("div",{className:"col-sm-4 fill"},n.a.createElement("div",{className:"panel panel-default fill"},n.a.createElement("div",{className:"panel-heading","data-toggle":"tooltip"},"Buckets & Objects",n.a.createElement("br",null),n.a.createElement("span",{id:"refreshBuckets",className:"glyphicon glyphicon-refresh",style:{}}),n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-xs btn-info",style:{},id:"showFormCreateBucket","data-toggle":"modal","data-target":"#createBucketModal"},n.a.createElement("span",{className:"glyphicon glyphicon-folder-close"})," New bucket")),n.a.createElement("div",{id:"appBuckets"},n.a.createElement("br",null),n.a.createElement("div",null,D),n.a.createElement("br",null)))),n.a.createElement("div",{className:"col-sm-8 fill"},n.a.createElement("div",{id:"forgeViewer"})))),n.a.createElement("div",{className:"modal fade",id:"createBucketModal",role:"dialog","aria-labelledby":"myModalLabel"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Cancel"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7")),n.a.createElement("h4",{className:"modal-title",id:"myModalLabel"},"Create new bucket")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("input",{type:"text",id:"newBucketKey",className:"form-control"}),' For demonstration purposes, objects (files) are NOT automatically translated. After you upload, right click on the object and select "Translate". Note: Technically your bucket name is required to be globally unique across the entire platform - to keep things simple with this tutorial your client ID will be prepended by default to your bucket name and in turn masked by the UI so you only have to make sure your bucket name is unique within your current Forge app.'),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Cancel"),n.a.createElement("button",{type:"button",className:"btn btn-primary",id:"createNewBucket"},"Go ahead, create the bucket"))))))};a(40),window.Autodesk;var Y=function(){var e=Object(r.useState)({}),t=Object(O.a)(e,2),a=(t[0],t[1],Object(r.useState)("")),c=Object(O.a)(a,2),s=c[0],l=c[1];function m(){return(m=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:5000/api/forge/oauth/url");case 2:t=e.sent,console.log(t.data),document.location.href=t.data;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){fetch("http://localhost:5000/api/forge/oauth/token").then((function(t){t.json().then((function(t){e(t.access_token,t.expires_in)}))}))}function d(){return(d=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,console.log(t),console.log(s),console.log(document.URL);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.f)(),Object(r.useEffect)((function(){}),[l]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("div",{className:"container-fluid fill"},n.a.createElement("div",{className:"row fill"},n.a.createElement("div",{className:"col-sm-4 fill"},n.a.createElement("div",{className:"panel panel-default fill"},n.a.createElement("div",{className:"panel-heading","data-toggle":"tooltip"},n.a.createElement("span",{id:"userInfo"}),n.a.createElement("span",{id:"refreshHubs",className:"glyphicon glyphicon-refresh",title:"Refresh list of files"}),n.a.createElement("span",{id:"signOut",className:"glyphicon glyphicon-log-out",title:"Sign out"}," ")),n.a.createElement("div",{id:"userHubs"},n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-lg btn-default",id:"autodeskSigninButton",onClick:function(){return function(){return m.apply(this,arguments)}()}},n.a.createElement("img",{src:"https://github.com/Autodesk-Forge/learn.forge.viewhubmodels/raw/master/img/autodesk_text.png",height:"20"})," Sign in"),n.a.createElement("button",{className:"btn btn-lg btn-default",id:"autodeskSigninButton",onClick:function(){return function(){return d.apply(this,arguments)}()}},n.a.createElement("img",{src:"https://github.com/Autodesk-Forge/learn.forge.viewhubmodels/raw/master/img/autodesk_text.png",height:"20"})," Prepare Tree"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null)," You may also need to provision your",n.a.createElement("br",null)," BIM 360 Docs account for this app.",n.a.createElement("br",null),n.a.createElement("a",{href:"https://forge.autodesk.com/blog/bim-360-docs-provisioning-forge-apps"},"Learn more"),".")))),n.a.createElement("div",{className:"col-sm-8 fill"},n.a.createElement("div",{id:"forgeViewer"}))))),n.a.createElement("div",null,n.a.createElement("iframe",{id:"hiddenFrame"}))))};window.Autodesk;var q=function(){var e=Object(r.useState)({}),t=Object(O.a)(e,2),a=(t[0],t[1],Object(r.useState)("")),c=Object(O.a)(a,2),s=c[0],l=c[1],o=Object(v.f)();return Object(r.useEffect)((function(){o.push("/"),console.log(document.location.href.split("?code=")[1]),l(document.location.href.split("?code=")[1])}),[l,s]),n.a.createElement(n.a.Fragment,null)},K=(a(76),a(21)),X=a(22),Z=a(24),W=a(23),H=function(e){Object(Z.a)(a,e);var t=Object(W.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"row align-items-center"},n.a.createElement("div",{className:"col-xl-4 col-lg-4 mb-8 mb-lg-0"},n.a.createElement("div",{className:"px-4 py-7 rounded hover-translate text-center ".concat(this.props.bgshadow)},n.a.createElement("div",null),n.a.createElement("h5",{className:"mt-4 mb-3"},"Propietario"),n.a.createElement("p",null),n.a.createElement(m.b,{to:"/register",className:"btn-link"},"Comenzar"))),n.a.createElement("div",{className:"col-xl-4 col-lg-4 col-sm-6"},n.a.createElement("div",{className:"px-4 py-7 rounded hover-translate text-center bg-white shadow"},n.a.createElement("div",null),n.a.createElement("h5",{className:"mt-4 mb-3"},"Constructora"),n.a.createElement("p",null),n.a.createElement(m.b,{to:"/register",className:"btn-link"},"Comenzar"))),n.a.createElement("div",{className:"col-xl-4 col-lg-4 col-sm-6 mt-6 mt-sm-0"},n.a.createElement("div",{className:"px-4 py-7 rounded hover-translate text-center ".concat(this.props.bgshadow)},n.a.createElement("div",null),n.a.createElement("h5",{className:"mt-4 mb-3"},"Contratista"),n.a.createElement("p",null),n.a.createElement(m.b,{to:"/register",className:"btn-link"},"Comenzar"))))}}]),a}(r.Component),J=function(e){Object(Z.a)(a,e);var t=Object(W.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"render",value:function(){return n.a.createElement("section",{className:"custom-pt-1 custom-pb-2 bg-primary parallaxie position-relative",style:{backgroundPosition:"center center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},"data-overlay":6},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center text-center"},n.a.createElement("div",{className:"col-12 col-lg-10 col-xl-8"},n.a.createElement("h1",{className:"display-4 text-white font-weight-bold"},"Marketplace para Contratistas de Proyectos de Construcci\xf3n"),n.a.createElement("p",{className:"lead text-light"},"Env\xeda presupuestos de forma autom\xe1tica llevando el control de todas tus propuestas.")," ",n.a.createElement(m.b,{to:"/register",className:"btn btn-primary mr-1"},"Saber m\xe1s"),n.a.createElement(m.b,{to:"/login",className:"btn btn-primary mr-1"},"Comenzar")))),n.a.createElement("div",{className:"shape-1 bottom",style:{height:"100px",overflow:"hidden"}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{height:"100%",width:"100%"}},n.a.createElement("polygon",{className:"svg--sm",fill:"white",points:"0,0 30,100 65,21 90,100 100,75 100,100 0,100"}),n.a.createElement("polygon",{className:"svg--lg",fill:"white",points:"0,0 15,100 33,21 45,100 50,75 55,100 72,20 85,100 95,50 100,80 100,100 0,100"}))))}}]),a}(r.Component);var $=function(){return n.a.createElement("div",null,n.a.createElement(J,null),n.a.createElement("div",{className:"page-content"},n.a.createElement("section",null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center text-center"},n.a.createElement("div",{className:"col-12 col-md-12 col-lg-8 mb-8 mb-lg-0"},n.a.createElement("div",{className:"mb-8"}," ",n.a.createElement("span",{className:"badge badge-primary-soft p-2 font-w-6"},"Elige una opci\xf3n"),n.a.createElement("h2",{className:"mt-3 font-w-5"},"\xbfQu\xe9 tipo de Organizaci\xf3n eres?")))),n.a.createElement(H,null))),n.a.createElement("section",{className:"custom-py-2 position-relative bg-dark","data-bg-img":a(77)},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center text-center"},n.a.createElement("div",{className:"col-12 col-md-12 col-lg-8 mb-8 mb-lg-0"},n.a.createElement("div",{className:"mb-8"}," ",n.a.createElement("span",{className:"badge badge-primary-soft p-2 font-w-6"},"\xbfC\xf3mo funciona?"),n.a.createElement("h2",{className:"mt-3 font-w-5 mb-0 text-white"},"Tres simples pasos para comenzar")))),n.a.createElement("div",{className:"row align-items-center justify-content-between mb-10"},n.a.createElement("div",{className:"col-12 col-lg-6 mb-6 mb-lg-0"}),n.a.createElement("div",{className:"col-12 col-lg-6 col-xl-5"},n.a.createElement("div",null,n.a.createElement("h2",null," ",n.a.createElement("span",{className:"badge badge-primary-soft p-2"},"01")),n.a.createElement("h4",{className:"mt-3 text-light"},"Ingresa precios unitarios"),n.a.createElement("p",{className:"lead mb-0"},"Presupuesta uno de nuestros proyectos est\xe1ndar y crear tu lista de precios unitarios para entidades del Modelo BIM.")))),n.a.createElement("div",{className:"row align-items-center justify-content-between mb-10"},n.a.createElement("div",{className:"col-12 col-lg-6 order-lg-1 mb-6 mb-lg-0"}),n.a.createElement("div",{className:"col-12 col-lg-6 col-xl-5"},n.a.createElement("div",null,n.a.createElement("h2",null," ",n.a.createElement("span",{className:"badge badge-primary-soft p-2"},"02")),n.a.createElement("h4",{className:"mt-3 text-light"},"Env\xeda presupuestos autom\xe1ticas"),n.a.createElement("p",{className:"lead mb-0"},"Crea tu perfil de propuestas para poder enviar propuestas de presupuestos automatizados a los proyectos de tu inter\xe9s.")))),n.a.createElement("div",{className:"row align-items-center justify-content-between"},n.a.createElement("div",{className:"col-12 col-lg-6 mb-6 mb-lg-0"}),n.a.createElement("div",{className:"col-12 col-lg-6 col-xl-5"},n.a.createElement("div",null,n.a.createElement("h2",null," ",n.a.createElement("span",{className:"badge badge-primary-soft p-2"},"03")),n.a.createElement("h4",{className:"mt-3 text-light"},"Recibe presupuestos aprobados"),n.a.createElement("p",{className:"lead mb-0"},"Una vez tu presupuesto fue revisado puedes personalizar el tipo de propuestas que env\xedaste llevando un control de la gesti\xf3n de cambios."))))),n.a.createElement("div",{className:"shape-1",style:{height:"200px",overflow:"hidden"}},n.a.createElement("svg",{viewBox:"0 0 500 150",preserveAspectRatio:"none",style:{height:"100%",width:"100%"}},n.a.createElement("path",{d:"M0.00,49.98 C150.00,150.00 271.49,-50.00 500.00,49.98 L500.00,0.00 L0.00,0.00 Z",style:{stroke:"none",fill:"#fff"}}))),n.a.createElement("div",{className:"shape-1 bottom",style:{height:"200px",overflow:"hidden"}},n.a.createElement("svg",{viewBox:"0 0 500 150",preserveAspectRatio:"none",style:{height:"100%",width:"100%"}},n.a.createElement("path",{d:"M0.00,49.98 C150.00,150.00 349.20,-50.00 500.00,49.98 L500.00,150.00 L0.00,150.00 Z",style:{stroke:"none",fill:"#fff"}}))))))};var Q=function(){var e=Object(u.c)((function(e){return e.auth})),t=e.isLogged,a=e.isAdmin;return n.a.createElement("section",null,n.a.createElement(v.c,null,n.a.createElement(v.a,{path:"/",component:t?Y:$,exact:!0}),n.a.createElement(v.a,{path:"/login",component:t?P:k,exact:!0}),n.a.createElement(v.a,{path:"/register",component:t?P:L,exact:!0}),n.a.createElement(v.a,{path:"/forgot_password",component:t?P:R,exact:!0}),n.a.createElement(v.a,{path:"/user/reset/:token",component:t?P:I,exact:!0}),n.a.createElement(v.a,{path:"/user/activate/:activation_token",component:F,exact:!0}),n.a.createElement(v.a,{path:"/profile",component:t?G:P,exact:!0}),n.a.createElement(v.a,{path:"/edit_user/:id",component:a?M:P,exact:!0}),n.a.createElement(v.a,{path:"/basicviewer",component:t?V:P,exact:!0}),n.a.createElement(v.a,{path:"/api/forge/callback/oauth",component:t?q:P,exact:!0})))};var ee=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.token})),a=Object(u.c)((function(e){return e.auth}));return Object(r.useEffect)((function(){localStorage.getItem("firstLogin")&&function(){var t=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("/user/refresh_token",null);case 2:a=t.sent,e({type:"GET_TOKEN",payload:a.data.access_token});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[a.isLogged,e]),Object(r.useEffect)((function(){if(t){e(f()),E(t).then((function(t){e(function(e){return{type:d.GET_USER,payload:{user:e.data,isAdmin:1===e.data.role}}}(t))}))}}),[t,e]),n.a.createElement(m.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(h,null),n.a.createElement(Q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=a(17),ae={user:[],isLogged:!1,isAdmin:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOGIN:return Object(w.a)(Object(w.a)({},e),{},{isLogged:!0});case d.GET_USER:return Object(w.a)(Object(w.a)({},e),{},{user:t.payload.user,isAdmin:t.payload.isAdmin});default:return e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.GET_TOKEN:return t.payload;default:return e}},ce=[],se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.GET_ALL_USERS:return t.payload;default:return e}},le=Object(te.b)({auth:re,token:ne,users:se}),oe=Object(te.c)(le,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var ie=function(e){var t=e.children;return n.a.createElement(u.a,{store:oe},t)};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ie,null,n.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.312dd2f4.chunk.js.map